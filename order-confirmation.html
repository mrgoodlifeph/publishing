<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Order Confirmation - MR-GOODLIFE PUBLISHING">
    <title>Order Confirmation | MR-GOODLIFE PUBLISHING</title>
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header & Navigation -->
    <header class="header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-wrapper">
                    <div class="logo">
                        <img src="icon.png" alt="MR-GOODLIFE PUBLISHING Logo">
                        <span class="logo-text">MR-GOODLIFE PUBLISHING</span>
                    </div>
                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <ul class="nav-menu">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="services.html">Services</a></li>
                        <li><a href="shop.html">Shop</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li class="cart-nav-item">
                            <a href="cart.html" class="cart-icon-link">
                                <i class="fas fa-shopping-cart"></i>
                                <span class="cart-count">0</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Order Confirmation Section -->
    <section class="section">
        <div class="container">
            <div class="order-confirmation">
                <div class="confirmation-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h1>Order Confirmed!</h1>
                <p class="confirmation-message">Thank you for your order. We've received your order and will process it shortly.</p>
                
                <div class="order-details" id="orderDetails">
                    <!-- Order details will be loaded by JavaScript -->
                </div>

                <div class="confirmation-actions">
                    <a href="shop.html" class="btn btn-primary">Continue Shopping</a>
                    <a href="index.html" class="btn btn-outline">Back to Home</a>
                </div>

                <div class="confirmation-note">
                    <i class="fas fa-info-circle"></i>
                    <p>A confirmation email has been sent to your email address with order details and tracking information.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <img src="icon.png" alt="MR-GOODLIFE PUBLISHING Logo">
                        <span>MR-GOODLIFE PUBLISHING</span>
                    </div>
                    <p>Your trusted partner in publishing excellence.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="services.html">Services</a></li>
                        <li><a href="shop.html">Shop</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact Information</h4>
                    <ul class="contact-info">
                        <li><i class="fas fa-map-marker-alt"></i> Zone 1 Apple Street, Pengue<br>Tuguegarao City, Cagayan, 3500</li>
                        <li><i class="fas fa-phone"></i> +639554659229</li>
                        <li><i class="fas fa-envelope"></i> mrgoodlifeph@gmail.com</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Business Hours</h4>
                    <ul>
                        <li>Monday - Friday: 8:00 AM - 5:00 PM</li>
                        <li>Saturday: 9:00 AM - 3:00 PM</li>
                        <li>Sunday: Closed</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 MR-GOODLIFE PUBLISHING. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="products.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const orderNumber = urlParams.get('order');
            
            if (!orderNumber) {
                window.location.href = 'shop.html';
                return;
            }

            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            const order = orders.find(o => o.orderNumber === orderNumber);

            if (!order) {
                window.location.href = 'shop.html';
                return;
            }

            displayOrderDetails(order);
        });

        function displayOrderDetails(order) {
            const orderDetails = document.getElementById('orderDetails');
            const subtotal = order.items.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = 100;
            const total = subtotal + shipping;
            const status = order.status || 'confirmed';

            orderDetails.innerHTML = `
                ${status === 'pending' ? `
                <div class="order-info-box" style="background: #fff3cd; border-left: 4px solid #ffc107;">
                    <h3 style="color: #856404;"><i class="fas fa-clock"></i> Payment Verification Pending</h3>
                    <p style="color: #856404;">Your order has been received and is awaiting payment confirmation. We will review your proof of payment and process your order within 24 hours.</p>
                    <p style="color: #856404; margin-top: 10px;"><strong>You will receive a confirmation email once your payment is verified.</strong></p>
                </div>
                ` : ''}

                <div class="order-info-box">
                    <h3>Order Information</h3>
                    <p><strong>Order Number:</strong> ${order.orderNumber}</p>
                    <p><strong>Order Date:</strong> ${new Date(order.orderDate).toLocaleDateString()}</p>
                    <p><strong>Payment Method:</strong> ${formatPaymentMethod(order.paymentMethod)}</p>
                    <p><strong>Status:</strong> <span style="color: ${status === 'confirmed' ? '#27ae60' : '#f39c12'}; font-weight: 600;">${status === 'confirmed' ? 'Confirmed' : 'Pending Payment Verification'}</span></p>
                </div>

                <div class="order-info-box">
                    <h3>Shipping Address</h3>
                    <p><strong>${order.customer.firstName} ${order.customer.lastName}</strong></p>
                    <p>${order.customer.address}</p>
                    <p>${order.customer.city}, ${order.customer.province} ${order.customer.zipcode}</p>
                    <p>${order.customer.phone}</p>
                    <p>${order.customer.email}</p>
                </div>

                <div class="order-info-box">
                    <h3>Order Items</h3>
                    <div class="order-items-list">
                        ${order.items.map(item => `
                            <div class="order-item-row">
                                <span>${item.title} × ${item.quantity}</span>
                                <span>₱${(item.price * item.quantity).toFixed(2)}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="order-totals">
                        <div class="order-total-row">
                            <span>Subtotal:</span>
                            <span>₱${subtotal.toFixed(2)}</span>
                        </div>
                        <div class="order-total-row">
                            <span>Shipping:</span>
                            <span>₱${shipping.toFixed(2)}</span>
                        </div>
                        <div class="order-total-row total">
                            <span>Total:</span>
                            <span>₱${total.toFixed(2)}</span>
                        </div>
                    </div>
                </div>
            `;
        }

        function formatPaymentMethod(method) {
            const methods = {
                'cod': 'Cash on Delivery',
                'bank': 'Bank Transfer',
                'gcash': 'GCash'
            };
            return methods[method] || method;
        }
    </script>
    <script src="script.js"></script>
</body>
</html>
